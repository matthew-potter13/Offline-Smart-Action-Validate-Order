var Q=Object.defineProperty,d=Object.defineProperties;var s=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var n=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var r=(a,t,_)=>t in a?Q(a,t,{enumerable:!0,configurable:!0,writable:!0,value:_}):a[t]=_,f=(a,t)=>{for(var _ in t||(t={}))n.call(t,_)&&r(a,_,t[_]);if(c)for(var _ of c(t))z.call(t,_)&&r(a,_,t[_]);return a},i=(a,t)=>d(a,s(t));function runAction(a){return a.data.message="",a.data.related.aforza__Inventory_Product__c.forEach(t=>{a.data.related.OrderItem.forEach(_=>{a.data.related.PricebookEntry.forEach(e=>{if(_.Product2Id===t.aforza__Product__c&&_.Quantity>t.aforza__Stock_Quantity__c&&_.PricebookEntryId===e.Id){let u=t.aforza__Stock_Quantity__c<=0?-1*(_.Quantity+t.aforza__Stock_Quantity__c):_.Quantity-t.aforza__Stock_Quantity__c;a.data.message+=t.aforza__Stock_Quantity__c<=0?e.Name+` out of stock
`:e.Name+" Exceeded Inventory Limit by "+u+`
`}})}),a.data.related.OrderItem=a.data.related.OrderItem.map(_=>i(f({},_),{Quantity:_.Product2Id===t.aforza__Product__c&&_.Quantity>t.aforza__Stock_Quantity__c?t.aforza__Stock_Quantity__c:_.Quantity}))}),a.data.related.OrderItem=a.data.related.OrderItem.filter(t=>t.Quantity>0),a.data.message+="Your order has been validated",a.data.message===""&&(a.data.error="An Error has occured",a.data.message=null),a}
