function runAction(t){t.data.message="";let e=!1;return t.data.related.OrderItem.forEach(a=>{t.data.related.aforza__Inventory_Product__c.forEach(_=>{t.data.related.PricebookEntry.forEach(r=>{a.Product2Id===_.aforza__Product__c&&a.Quantity>_.aforza__Stock_Quantity__c&&a.PricebookEntryId===r.Id&&(e=!0,a.Quantity=a.Quantity>_.aforza__Stock_Quantity__c?_.aforza__Stock_Quantity__c:a.Quantity)})}),a.Quantity=e===!0?a.Quantity:-1,e=!1}),t.data.related.OrderItem=t.data.related.OrderItem.filter(a=>a.Quantity>0),t.data.message+="Your order has been validated",t.data.message===""&&(t.data.error="An Error has occured",t.data.message=null),t}
