function runAction(a){a.data.message="";let f=!1,u=!1;return a.data.related.PricebookEntry.forEach(e=>{a.data.related.OrderItem.forEach(t=>{a.data.related.aforza__Inventory_Product__c.forEach(_=>{if(t.Product2Id===_.aforza__Product__c&&t.Quantity>_.aforza__Stock_Quantity__c&&t.PricebookEntryId===e.Id){let c=_.aforza__Stock_Quantity__c<=0?-1*(t.Quantity+_.aforza__Stock_Quantity__c):t.Quantity-_.aforza__Stock_Quantity__c;a.data.message+=_.aforza__Stock_Quantity__c<=0?e.Name+` OUT OF STOCK
`:e.Name+" QUANTITY - "+c+`
`,f=!0,t.Quantity=t.Quantity>_.aforza__Stock_Quantity__c?_.aforza__Stock_Quantity__c:t.Quantity}}),a.data.message+=u===!1&&f===!1?e.Name+` NOT STOCKED 
`:+"",t.Quantity=f===!0?t.Quantity:-1,f=!1}),u=!0}),a.data.related.OrderItem=a.data.related.OrderItem.filter(e=>e.Quantity>0),a.data.message+="Your order has been validated",a.data.message===""&&(a.data.error="An Error has occured",a.data.message=null),a}
